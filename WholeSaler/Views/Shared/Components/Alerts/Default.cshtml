@model WholeSaler.Controllers.Alerts
@using Microsoft.AspNetCore.Mvc.Localization
@using WholeSaler.Resources
@inject IHtmlLocalizer<SharedResource> SharedLocalizer
<a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button"
    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class="fas fa-bell fa-fw"></i>
    <!-- Counter - Alerts -->
    <span class="badge badge-danger badge-counter" id="alert-counter">@Model.AlertCount</span>
</a>
<div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
    aria-labelledby="alertsDropdown">                 
        <h6 class="dropdown-header">
            <div class="row justify-content-between">
            <iframe name="dummyAlertFrame" id="dummyAlertFrame" style="display: none;"></iframe>
            <div class="align-self-center">@SharedLocalizer["Alerts Center"]</div>
            <div class="btn-danger" >
                <a onclick="clearAlerts()" class="btn btn-danger btn-circle btn-sm">
                        <i class="fas fa-trash"></i>
                </a>
            </div>
        </div>
    </h6>
    <div id="alerts" style="overflow-y: auto; max-height:30rem;">
        @{
            if(Model.AlertCount != 0)
            {
                foreach(var item in Model.Elements)
                {
                    <a class="dropdown-item d-flex align-items-center" href="@item.Redirect">
                        <div class="mr-3">
                            <div class="icon-circle bg-primary">
                                <i class="fas fa-bell text-white"></i>
                            </div>
                        </div>
                        <div>
                            <div class="small text-gray-500">@item.Date</div>
                            <span class="font-weight-bold">@SharedLocalizer[item.Message]</span>
                        </div>
                    </a>
                }
            } else
            {
                <hr/>
                <div class="text-center">@SharedLocalizer["Here is empty!"]</div>
                <hr/>
            }
        }
    </div>
</div>